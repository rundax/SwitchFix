# –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–ª–æ–≤–Ω–∏–∫–∞ —Ç–∞ –º–µ—Ä–¥–∂ uk_UA + uk_full

> **–°—Ç–∞—Ç—É—Å**: üìã –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è  
> **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç**: –í–∏—Å–æ–∫–∏–π  
> **–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**: 2025-02-25  

---

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

SwitchFix –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–ª–æ–≤–Ω–∏–∫–∏ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —á–∏ —Å–ª–æ–≤–æ –Ω–∞–±—Ä–∞–Ω–µ —É –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π —Ä–æ–∑–∫–ª–∞–¥—Ü—ñ.
–ü–æ—Ç–æ—á–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π —Å–ª–æ–≤–Ω–∏–∫ (`uk_UA.txt`) –º—ñ—Å—Ç–∏—Ç—å **~320K –±–∞–∑–æ–≤–∏—Ö —Ñ–æ—Ä–º** (–ª–µ–º).
–î–æ—Å—Ç—É–ø–Ω–∏–π –ø–æ–≤–Ω–∏–π —Å–ª–æ–≤–Ω–∏–∫ —Å–ª–æ–≤–æ—Ñ–æ—Ä–º (`uk_full.txt`) –∑ —Ä–æ–∑—Å—Ç–∞–≤–ª–µ–Ω–∏–º–∏ –Ω–∞–≥–æ–ª–æ—Å–∞–º–∏ ‚Äî **~2.93M —Ä—è–¥–∫—ñ–≤** (~2.87M —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–¥–Ω–æ—Å–ª—ñ–≤–Ω–∏—Ö —Ñ–æ—Ä–º –ø—ñ—Å–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó).

–ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ –ø–æ–≤–Ω–∏–π —Å–ª–æ–≤–Ω–∏–∫ –¥–∞—Å—Ç—å –∑–Ω–∞—á–Ω–æ –≤–∏—â—É —Ç–æ—á–Ω—ñ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü—ñ—ó (—Å–ª–æ–≤–æ—Ñ–æ—Ä–º–∏: –≤—ñ–¥–º—ñ–Ω–∫–∏, —á–∏—Å–ª–∞, —á–∞—Å–∏), –∞–ª–µ –≤–∏–º–∞–≥–∞—î –ø–µ—Ä–µ–≥–ª—è–¥—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ ‚Äî –ø–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–µ –≤–∏—Ç—Ä–∏–º–∞—î –º–∞—Å—à—Ç–∞–± 2.87M –∑–∞–ø–∏—Å—ñ–≤.

---

## –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ—á–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–∏–ø | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –ü–∞–º'—è—Ç—å (~320K —Å–ª—ñ–≤) |
|-----------|-----|-------------|----------------------|
| `BloomFilter` | `[UInt8]` bit array | –®–≤–∏–¥–∫–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ "—á–∏ —Å–ª–æ–≤–æ –º–æ–∂–µ –±—É—Ç–∏ –≤ —Å–ª–æ–≤–Ω–∏–∫—É" | ~0.5 MB |
| `suggestionBuckets` | `[Character: [Int: [String]]]` | –ü–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Å–ª—ñ–≤, —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω–∏–π –ø–æ –ø–µ—Ä—à—ñ–π –ª—ñ—Ç–µ—Ä—ñ + –¥–æ–≤–∂–∏–Ω–∞ | ~15-20 MB |

### –ü–æ—Ç—ñ–∫ –æ–±—Ä–æ–±–∫–∏ —Å–ª–æ–≤–∞ (WordValidator)

```
word ‚Üí lowercased() ‚Üí matchesExpectedScript()?
  ‚Üì
BloomFilter.mightContain(word)?
  ‚îú‚îÄ YES ‚Üí –∫–æ—Ä–æ—Ç–∫—ñ/–ø—ñ–¥–æ–∑—Ä—ñ–ª—ñ —Å–ª–æ–≤–∞ ‚Üí isExactDictionaryWord()  ‚Üê O(n) linear scan
  ‚îÇ        –¥–æ–≤—à—ñ —Å–ª–æ–≤–∞ ‚Üí –≤–≤–∞–∂–∞—î–º–æ –≤–∞–ª—ñ–¥–Ω–∏–º (–¥–æ–≤—ñ—Ä–∞ Bloom)
  ‚îî‚îÄ NO  ‚Üí dictionarySuggestion()  ‚Üê O(n √ó m) brute force
```

### –î–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è

- **`DictionaryLoader.swift`**: –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ª–æ–≤–Ω–∏–∫–∞ –∑ .txt, –ø–æ–±—É–¥–æ–≤–∞ BloomFilter —ñ suggestionBuckets
- **`WordValidator.swift`**: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ —Ç–∞ –ø–æ—à—É–∫ suggestions
- **`LayoutDetector.swift`**: –≤–∏–∫–ª–∏–∫ WordValidator.validate() –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É word boundary

---

## –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –ü1: –ü–∞–º'—è—Ç—å ‚Äî `suggestionBuckets` –∑'—ó—Å—Ç—å ~120-165 MB RAM

–í—Å—ñ —Å–ª–æ–≤–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ `[String]` –º–∞—Å–∏–≤–∏ –≤ –ø–∞–º'—è—Ç—ñ:

```swift
// DictionaryLoader.swift:11
private var suggestionBuckets: [Language: [Character: [Int: [String]]]] = [:]
```

**–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–ª—è 2.87M —Å–ª—ñ–≤:**
- –°–∏—Ä—ñ —Ä—è–¥–∫–∏ UTF-8: ~41 MB
- –ó —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º Swift `String` overhead (16 bytes/small string) + `Array`: **~120-165 MB**
- –î–ª—è menubar-–¥–æ–¥–∞—Ç–∫—É –∑ —Ü—ñ–ª—å–æ–≤–∏–º RAM < 20 MB ‚Äî —Ü–µ –Ω–µ–ø—Ä–∏–π–Ω—è—Ç–Ω–æ

### –ü2: `isExactDictionaryWord()` ‚Äî –ª—ñ–Ω—ñ–π–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è O(n)

```swift
// WordValidator.swift:173-181
private func isExactDictionaryWord(_ word: String, language: Language) -> Bool {
    guard let first = word.first else { return false }
    let buckets = loader.suggestionBuckets(for: language)
    guard let byLength = buckets[first],
          let words = byLength[word.count] else { return false }
    return words.contains(word)  // ‚Üê LINEAR SCAN —á–µ—Ä–µ–∑ Array.contains()
}
```

–ë–∞–∫–µ—Ç `[first][len]` –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—ó —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –ª—ñ—Ç–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–ø") –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ **–¥–µ—Å—è—Ç–∫–∏ —Ç–∏—Å—è—á —Å–ª—ñ–≤** –æ–¥–Ω–∞–∫–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏. `Array.contains()` ‚Äî —Ü–µ O(n) –∑ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è–º —Ä—è–¥–∫—ñ–≤.

### –ü3: `dictionarySuggestion()` ‚Äî O(n √ó m) brute force

```swift
// WordValidator.swift:272-299
for len in minLen...maxLen {
    for candidate in lengthMap[len]! {
        damerauLevenshteinDistance(word, candidate, maxDistance: 2)  // O(n*m) per candidate
    }
}
```

–ü–µ—Ä–µ–±–∏—Ä–∞—î **–≤—Å—ñ—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤** –∑ –±–∞–∫–µ—Ç—É —Ç–∞ —Ä–∞—Ö—É—î –≤—ñ–¥—Å—Ç–∞–Ω—å –î–∞–º–µ—Ä–∞—É-–õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ.
–ü—Ä–∏ 2.87M —Å–ª—ñ–≤ —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ **50K+ –ø–æ—Ä—ñ–≤–Ω—è–Ω—å** –Ω–∞ –æ–¥–∏–Ω –≤–∏–∫–ª–∏–∫.

### –ü4: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è ‚Äî O(n) —Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–∞—Ä—Å–∏–Ω–≥ ~80 MB –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É

```swift
// DictionaryLoader.swift:109-124
content.enumerateLines { line, _ in
    filter.insert(word)
    // ... build buckets
}
```

–ü–∞—Ä—Å–∏–Ω–≥ 80 MB —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª—É (2.93M —Ä—è–¥–∫—ñ–≤) –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Å—Ç–∞—Ä—Ç—ñ: **–∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥** –∑–∞—Ç—Ä–∏–º–∫–∏ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏.

### –ü5: BloomFilter –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω—ñ –ø—ñ–¥ 400K

```swift
// DictionaryLoader.swift:90
let filter = BloomFilter(expectedItems: 400_000, falsePositiveRate: 0.01)
```

–î–ª—è 2.87M —Å–ª—ñ–≤ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —ñ–Ω–∞–∫—à–µ false positive rate —Ä—ñ–∑–∫–æ –∑—Ä–æ—Å—Ç–µ.

---

## –ê–Ω–∞–ª—ñ–∑ —Å–ª–æ–≤–Ω–∏–∫—ñ–≤ —ñ –ø–ª–∞–Ω –º–µ—Ä–¥–∂—É

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ç–∏–Ω—É

| –ú–µ—Ç—Ä–∏–∫–∞ | –ö—ñ–ª—å–∫—ñ—Å—Ç—å |
|---------|-----------|
| –°–ª—ñ–≤ —É `uk_UA.txt` (–±–∞–∑–æ–≤—ñ —Ñ–æ—Ä–º–∏, lowercase) | 320,307 |
| –£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Å–ª—ñ–≤ —É `uk_full.txt` (–±–µ–∑ –Ω–∞–≥–æ–ª–æ—Å—ñ–≤, lowercase, –±–µ–∑ —Ñ—Ä–∞–∑) | 2,876,610 |
| –°–ø—ñ–ª—å–Ω–∏—Ö (–ø–µ—Ä–µ—Ç–∏–Ω) | 179,875 |
| **–¢—ñ–ª—å–∫–∏ –≤ `uk_UA.txt`** (–≤—ñ–¥—Å—É—Ç–Ω—ñ –≤ `uk_full.txt`) | **140,432** |
| **–¢—ñ–ª—å–∫–∏ –≤ `uk_full.txt`** | 2,696,735 |
| –§—Ä–∞–∑–∏ (–±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω—ñ) –≤ `uk_full.txt` | 16,764 |

### –ü—Ä–∏–º—ñ—Ç–∫–∏

- `uk_full.txt` –º—ñ—Å—Ç–∏—Ç—å **—Å–ª–æ–≤–æ—Ñ–æ—Ä–º–∏ –∑ –Ω–∞–≥–æ–ª–æ—Å–∞–º–∏** (Unicode U+0301 combining acute accent), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `–∞–±–∞–∂—ÉÃÅ—Ä`, `–∞–±–∞ÃÅ—Ç—Å—å–∫–∏–π`
- `uk_UA.txt` –º—ñ—Å—Ç–∏—Ç—å **–ª–µ–º–∏ –±–µ–∑ –Ω–∞–≥–æ–ª–æ—Å—ñ–≤**, –≤—Å–µ lowercase: `–∞–±–∞–∂—É—Ä`, `–∞–±–∞—Ç—Å—å–∫–∏–π`
- `uk_full.txt` –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–≥—ñ—Å—Ç—Ä (–≤–ª–∞—Å–Ω—ñ –Ω–∞–∑–≤–∏ –∑ –≤–µ–ª–∏–∫–æ—ó): `–ê–∞—Ä–æ–Ω`, `–ê–±–∞–¥–∞–Ω`
- 140K —Å–ª—ñ–≤ —É `uk_UA.txt` **–≤—ñ–¥—Å—É—Ç–Ω—ñ** –≤ `uk_full.txt` ‚Äî —Ü–µ –ø–µ—Ä–µ–≤–∞–∂–Ω–æ:
  - –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ñ —Å–ª–æ–≤–∞: `–º—É–ª—å—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–∏–π`, `—Å–ø–µ—Ü–∫–æ–º–ø–ª–µ–∫—Å`
  - –†—ñ–¥–∫—ñ—Å–Ω—ñ –¥–µ—Ä–∏–≤–∞—Ç–∏: `—è–∫–Ω–∞–π–æ—â–∞–¥–ª–∏–≤—ñ—à–∏–π`
  - –í–ª–∞—Å–Ω—ñ —ñ–º–µ–Ω–∞/–ø—Ä—ñ–∑–≤–∏—â–∞: `–∫–æ–ª—å—á–µ–Ω–∫–æ`, `–≥–æ—Ü–∞–ª—é–∫`
  - –°—É—á–∞—Å–Ω–∞ –ª–µ–∫—Å–∏–∫–∞: `–±—É–∫–∫—Ä–æ—Å–∏–Ω–≥`

---

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è (–æ–Ω–æ–≤–ª–µ–Ω–æ)

1. –ë–∞–∑–æ–≤–∏–π —à–ª—è—Ö: **packed mmap lexicon + binary search** –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é exact-match –ø–æ —Ä—è–¥–∫—É.
2. **BloomFilter** —É –Ω–æ–≤—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ –Ω–µ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º. –î–æ–¥–∞—î—Ç—å—Å—è –ª–∏—à–µ —è–∫—â–æ –±–µ–Ω—á–º–∞—Ä–∫–∏ –ø–æ–∫–∞–∂—É—Ç—å –ø–æ–º—ñ—Ç–Ω–∏–π –≤–∏–≥—Ä–∞—à –Ω–∞ negative lookup.
3. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ O(1), —Ä–æ–∑–≥–ª—è–¥–∞—î–º–æ **MPHF (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π perfect hash)** —è–∫ –æ–∫—Ä–µ–º–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó.
4. –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó (`binary search` –∞–±–æ `MPHF`) exact-match –º–∞—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É–≤–∞—Ç–∏—Å—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è–º –∑ –±–∞–π—Ç–∞–º–∏ —Å–ª–æ–≤–∞ (—â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ö–∏–±–Ω–∏—Ö –ø–æ–ø–∞–¥–∞–Ω—å).
5. –Ø–∫—â–æ —Ü—ñ–ª—å RAM –¥–ª—è low-end –∂–æ—Ä—Å—Ç–∫–æ `<20 MB RSS`, DAWG/DAFSA —Ä–æ–∑–≥–ª—è–¥–∞—î—Ç—å—Å—è —Ä–∞–Ω—ñ—à–µ, –∞ –Ω–µ "–¥–∞–ª–µ–∫–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞".

---

## –ü–ª–∞–Ω —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

### –§–∞–∑–∞ 0: Baseline –±–µ–Ω—á–º–∞—Ä–∫–∏ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É ‚è± ~0.5 –≥–æ–¥

**–ú–µ—Ç–∞**: –ó–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ —Ç–æ—á–∫—É –≤—ñ–¥–ª—ñ–∫—É –¥–æ –±—É–¥—å-—è–∫–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –∑–º—ñ–Ω.

**–ö—Ä–æ–∫–∏**:

1. –ó–Ω—è—Ç–∏ baseline –Ω–∞ –ø–æ—Ç–æ—á–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ (—Å–ª–æ–≤–Ω–∏–∫ ~320K):
   - startup/load time (cold/warm)
   - RSS –ø—ñ—Å–ª—è load
   - exact lookup latency (avg/p95/p99)
   - suggestion latency (avg/p95/p99)

2. –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–≤—ñ—Ç —É `plan/benchmarks/baseline_320k.md`.

---

### –§–∞–∑–∞ 1: –ú–µ—Ä–¥–∂ —Å–ª–æ–≤–Ω–∏–∫—ñ–≤ + –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —è–∫–æ—Å—Ç—ñ ‚è± ~1.5 –≥–æ–¥

**–ú–µ—Ç–∞**: –û–±'—î–¥–Ω–∞—Ç–∏ `uk_UA.txt` —Ç–∞ `uk_full.txt` –±–µ–∑ —Å–º—ñ—Ç—Ç—î–≤–∏—Ö –∞–±–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤.

**–ö—Ä–æ–∫–∏**:

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `scripts/merge_uk_dictionaries.py`:
   - –ß–∏—Ç–∞—Ç–∏ `uk_full.txt`, –ø—Ä–∏–±—Ä–∞—Ç–∏ –Ω–∞–≥–æ–ª–æ—Å–∏ (U+0301), –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ lowercase, –≤—ñ–¥–∫–∏–Ω—É—Ç–∏ –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω—ñ —Ñ—Ä–∞–∑–∏
   - –ß–∏—Ç–∞—Ç–∏ `uk_UA.txt`, –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ lowercase
   - –ó—Ä–æ–±–∏—Ç–∏ union

2. –î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —è–∫–æ—Å—Ç—ñ –ø—ñ–¥ —á–∞—Å –º–µ—Ä–¥–∂—É:
   - –í—ñ–¥–∫–∏–Ω—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏, mixed-script, —Ä—è–¥–∫–∏ –∑ —Ü–∏—Ñ—Ä–∞–º–∏/–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
   - –í—ñ–¥–∫–∏–Ω—É—Ç–∏ 1-2 —Å–∏–º–≤–æ–ª—å–Ω—ñ –∑–∞–ø–∏—Å–∏ –∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞ (–∫–æ—Ä–æ—Ç–∫—ñ —Å–ª–æ–≤–∞ –≤–∂–µ –∫–æ–Ω—Ç—Ä–æ–ª—é—é—Ç—å—Å—è `shortWords`)
   - –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç –ø—Ä–æ –∫–æ–ª—ñ–∑—ñ—ó –ø—ñ—Å–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó (accents/case)

3. –ó–∞–ø–∏—Å–∞—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏:
   - `uk_UA_merged.txt` (—Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å–ª–æ–≤–Ω–∏–∫)
   - `uk_UA_custom.txt` (—Å–ª–æ–≤–∞, —â–æ –±—É–ª–∏ –ª–∏—à–µ –≤ —Å—Ç–∞—Ä–æ–º—É `uk_UA.txt`)
   - `plan/artifacts/uk_UA_merge_report.json` (–º–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ/–∫–æ–ª—ñ–∑—ñ—ó)

4. –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ runtime-–¥–∂–µ—Ä–µ–ª–æ `uk_UA.txt` merged-–≤–µ—Ä—Å—ñ—î—é

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: ~3.02M —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –≤–∞–ª—ñ–¥–Ω–∏—Ö —Å–ª—ñ–≤.

---

### –§–∞–∑–∞ 2: –ë—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç v2 + mmap + partitioned index ‚è± ~6 –≥–æ–¥

**–ú–µ—Ç–∞**: –®–≤–∏–¥–∫–∏–π exact lookup –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º heap-RAM —ñ –ø—Ä–æ–∑–æ—Ä–æ—é –º—ñ–≥—Ä–∞—Ü—ñ—î—é API.

**–ö—Ä–æ–∫–∏**:

1. –í–≤–µ—Å—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–ª–æ–≤–Ω–∏–∫–∞:
   - `DictionaryIndex` / `MappedDictionary` protocol
   - `WordValidator` –ø—Ä–∞—Ü—é—î –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞ –Ω–µ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é `[String]`

2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `uk_UA.bin` v2:
   - Header: `magic`, `version`, `wordCount`, `flags`, offsets —Å–µ–∫—Ü—ñ–π
   - `firstCharPartitions`: table first-char -> `(start, count)` –¥–ª—è –∑–≤—É–∂–µ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω—É –ø–æ—à—É–∫—É
   - `offsets` (`UInt32[wordCount+1]`)
   - `wordsBlob` (–∫–æ–Ω–∫–∞—Ç–µ–Ω–æ–≤–∞–Ω–∏–π UTF-8)
   - optional section: Bloom bits (—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –ø—Ä–∞–ø–æ—Ä—Ü–µ–º —ñ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–æ –±–µ–Ω—á–º–∞—Ä–∫–æ–º)

3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ exact lookup:
   - `partition -> binary search -> byte compare`
   - –ë–µ–∑ linear scan —Ç–∞ –±–µ–∑ `Set<String>`

4. –û–Ω–æ–≤–∏—Ç–∏ `DictionaryLoader`:
   - –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç `.bin` —á–µ—Ä–µ–∑ `mmap` (read-only)
   - `.txt` fallback –ª–∏—à–∏—Ç–∏ –¥–ª—è debug —Ä–µ–∂–∏–º—É

5. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é —Å–ª–æ–≤–Ω–∏–∫–∞ –≤ build:
   - `scripts/compile_dictionary.swift`
   - `scripts/build-app.sh` + `Package.swift`

6. –£–∑–≥–æ–¥–∏—Ç–∏ allow/deny overrides –∑ –Ω–æ–≤–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º:
   - –∞–±–æ –≤—à–∏–≤–∞—Ç–∏ overrides —É `.bin` –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
   - –∞–±–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ runtime overlay –ø–æ–≤–µ—Ä—Ö mmap-—Å–ª–æ–≤–Ω–∏–∫–∞
   - –∑–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –æ–±—Ä–∞–Ω—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é, —â–æ–± –Ω–µ –≤—Ç—Ä–∞—Ç–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É `*_allow.txt` / `*_deny.txt`

**–ù–æ—Ç–∞—Ç–∫–∞ –ø–æ –ø–∞–º'—è—Ç—ñ**:
- Typical RSS –º–æ–∂–µ –±—É—Ç–∏ –∑–Ω–∞—á–Ω–æ –Ω–∏–∂—á–µ —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—É.
- Worst-case RSS –º–æ–∂–µ –Ω–∞–±–ª–∏–∑–∏—Ç–∏—Å—å –¥–æ –ø–æ–≤–Ω–æ–≥–æ mapped size (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–∞—Ç–µ—Ä–Ω—É –¥–æ—Å—Ç—É–ø—É —Ç–∞ pressure).
- –ö–ª—é—á–æ–≤–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ `mmap`: —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–∏–Ω—É—Ç—ñ –û–°, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ heap `[String]`.

---

### –§–∞–∑–∞ 2b: MPHF spike (–æ–ø—Ü—ñ–π–Ω–æ, time-boxed) ‚è± ~1-2 –¥–Ω—ñ

**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ MPHF —Ä–µ–∞–ª—å–Ω–æ –∫—Ä–∞—â–∏–π –∑–∞ partitioned binary search –¥–ª—è —Ü—å–æ–≥–æ –∫–µ–π—Å—É.

**–ö—Ä–æ–∫–∏**:

1. –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø —ñ–Ω–¥–µ–∫—Å—É (CHD/–∞–Ω–∞–ª–æ–≥) –¥–ª—è merged —Å–ª–æ–≤–Ω–∏–∫–∞.
2. –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏:
   - exact lookup latency (avg/p95/p99)
   - —Ä–æ–∑–º—ñ—Ä —ñ–Ω–¥–µ–∫—Å—É
   - —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å build/runtime –∫–æ–¥—É
3. –†—ñ—à–µ–Ω–Ω—è:
   - `adopt`, —è–∫—â–æ p99 exact lookup >=2x —à–≤–∏–¥—à–∏–π –∑–∞ partitioned binary search **—ñ** –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π build-time <=5s
   - `reject`, —è–∫—â–æ –ø—Ä–∏—Ä—ñ—Å—Ç <2x –∞–±–æ build-time overhead >5s
   - —è–∫—â–æ –∑–∞ 2 –¥–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –Ω–µ –¥–æ–≤–µ–¥–µ–Ω—ñ, spike –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —Ä—ñ—à–µ–Ω–Ω—è–º `reject`

---

### –§–∞–∑–∞ 3: –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º suggestions ‚Äî trigram index + bounded DL ‚è± ~4 –≥–æ–¥

**–ú–µ—Ç–∞**: –ü—Ä–∏–±—Ä–∞—Ç–∏ brute-force —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –ø–µ—Ä—à–æ—ó –ª—ñ—Ç–µ—Ä–∏.

**–û—Ü—ñ–Ω–∫–∞ —Ä–æ–∑–º—ñ—Ä—É —ñ–Ω–¥–µ–∫—Å—É (–¥–æ –∫–æ–º–ø—Ä–µ—Å—ñ—ó)**:
- ~3M —Å–ª—ñ–≤, —Å–µ—Ä–µ–¥–Ω—è –¥–æ–≤–∂–∏–Ω–∞ ~9 -> ~7 —Ç—Ä–∏–≥—Ä–∞–º/—Å–ª–æ–≤–æ -> ~21M postings
- —É `UInt32` —Ü–µ ~84 MB raw
- –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–º–ø—Ä–µ—Å—ñ—è (delta + varint) —ñ mmap/sidecar —Ñ–æ—Ä–º–∞—Ç, —ñ–Ω–∞–∫—à–µ —ñ–Ω–¥–µ–∫—Å –∑'—ó—Å—Ç—å RAM-–ø–µ—Ä–µ–≤–∞–≥—É –§–∞–∑–∏ 2

**–ö—Ä–æ–∫–∏**:

1. –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π trigram inverted index (–º–æ–∂–Ω–∞ –æ–∫—Ä–µ–º–æ—é —Å–µ–∫—Ü—ñ—î—é —É `.bin` –∞–±–æ sidecar):
   - trigram -> —Å–ø–∏—Å–æ–∫ `wordId`
   - posting lists –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —É —Å—Ç–∏—Å–Ω–µ–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ (delta + varint)
   - —ñ–Ω–¥–µ–∫—Å lazy-loaded (—Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É suggestion)

2. Candidate retrieval:
   - –í–∏—Ç—è–≥—Ç–∏ —Ç—Ä–∏–≥—Ä–∞–º–∏ –∑ input
   - –û–±'—î–¥–Ω–∞—Ç–∏/–ø–µ—Ä–µ—Ç–Ω—É—Ç–∏ posting lists
   - –í—ñ–¥—ñ–±—Ä–∞—Ç–∏ top-K –∑–∞ overlap score

3. Final ranking:
   - –î–ª—è top-K —Ä–∞—Ö—É–≤–∞—Ç–∏ bounded Damerau-Levenshtein
   - –í–≤–µ—Å—Ç–∏ hard cap –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å DL-–ø–æ—Ä—ñ–≤–Ω—è–Ω—å
   - –û–±–º–µ–∂–∏—Ç–∏ `maxDistance` –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –¥–æ–≤–∂–∏–Ω–∏ —Å–ª–æ–≤–∞

4. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ DL:
   - –ü–µ—Ä–µ–π—Ç–∏ –∑ –ø–æ–≤–Ω–æ—ó 2D-–º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ rolling rows (O(m) –ø–∞–º'—è—Ç—å)
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ reusable buffer (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö heap –∞–ª–æ–∫–∞—Ü—ñ–π –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤—ñ)

---

### –§–∞–∑–∞ 4: Runtime –ø–æ–ª—ñ—Ç–∏–∫–∞ –¥–ª—è low-end + fallback cleanup ‚è± ~2.5 –≥–æ–¥

**–ú–µ—Ç–∞**: –£–Ω–∏–∫–Ω—É—Ç–∏ RAM —Å–ø–∞–π–∫—ñ–≤ –Ω–∞ —Å–ª–∞–±–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.

**–ö—Ä–æ–∫–∏**:

1. –ü—Ä–∏–±—Ä–∞—Ç–∏ eager prewarm –≤–∞–∂–∫–∏—Ö —à–ª—è—Ö—ñ–≤:
   - suggestions –Ω–µ –ø—Ä–æ–≥—Ä—ñ–≤–∞—Ç–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ
   - —Å–ª–æ–≤–Ω–∏–∫–∏ –≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ lazy –ø–æ —Ñ–∞–∫—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

2. –î–ª—è `.txt` fallback (debug):
   - –ø—Ä–∏–±—Ä–∞—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω –ø–æ–±—É–¥–æ–≤–∏ bucket'—ñ–≤
   - –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ in-place mutation —á–µ—Ä–µ–∑ `default: []`

3. –î–æ–¥–∞—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫—É –≤–∏–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –∫–µ—à—ñ–≤:
   - trigram/prefix –∫–µ—à—ñ —Å–∫–∏–¥–∞—Ç–∏ –ø—ñ—Å–ª—è idle timeout –∞–±–æ memory warning

---

### –§–∞–∑–∞ 5: Benchmark & regression harness ‚è± ~3 –≥–æ–¥

**–ú–µ—Ç–∞**: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É–≤–∞—Ç–∏ –∫–æ–∂–Ω—É —Ñ–∞–∑—É —á–∏—Å–µ–ª—å–Ω–æ, –Ω–µ —ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ.

**–ö—Ä–æ–∫–∏**:

1. –î–æ–¥–∞—Ç–∏ performance harness (`DictionaryPerformanceTests.swift` –∞–±–æ –æ–∫—Ä–µ–º–∏–π –±–µ–Ω—á —Ä–∞–Ω–Ω–µ—Ä):
   - cold/warm load time
   - RSS –ø—ñ—Å–ª—è load —ñ –ø—ñ—Å–ª—è suggestion burst
   - exact lookup latency (avg/p95/p99)
   - suggestion latency (avg/p95/p99)
   - false-positive behavior –Ω–∞ random gibberish

2. –ú–µ—Ç–æ–¥–∏–∫–∞ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è:
   - wall-clock: `ContinuousClock` / signpost
   - memory: `mach_task_basic_info` + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ Instruments

3. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ baseline-—Ä–µ–ø–æ—Ä—Ç —É `plan/benchmarks/` –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º—ñ–∂ —Ñ–∞–∑–∞–º–∏.
   - baseline –∑ –§–∞–∑–∏ 0 —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –µ—Ç–∞–ª–æ–Ω–æ–º

---

### –§–∞–∑–∞ 6: DAWG/DAFSA (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ) ‚è± ~8 –≥–æ–¥

**–ú–µ—Ç–∞**: –î–æ—Å—è–≥—Ç–∏ –Ω–∞–π–Ω–∏–∂—á–æ–≥–æ RAM, —è–∫—â–æ mmap + trigram –Ω–µ –≤–∫–ª–∞–¥–∞—î—Ç—å—Å—è –≤ —Ü—ñ–ª—å.

**–ö–æ–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏**:

1. –Ø–∫—â–æ –ø—ñ—Å–ª—è —Ñ–∞–∑ 2-5 `RSS (typical) > 30 MB` –Ω–∞ low-end –ø—Ä–æ—Ñ—ñ–ª—ñ.
2. –Ø–∫—â–æ `suggestion latency p99 > 40 ms` –Ω–∞ low-end –ø—Ä–æ—Ñ—ñ–ª—ñ –ø—ñ—Å–ª—è trigram + bounded DL.

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è**:
- 5-15 MB (–æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω–æ, –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ —Å–ª—É–∂–±–æ–≤–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä)
- O(L) exact lookup + –ø—Ä–∏—Ä–æ–¥–Ω–∞ prefix-–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è

---

## –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –ü—ñ–¥—Ö—ñ–¥ | RAM (2.87M+) | Exact lookup | Suggestion | –ß–∞—Å —Å—Ç–∞—Ä—Ç—É | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å |
|--------|--------------|--------------|------------|------------|------------|
| **–ü–æ—Ç–æ—á–Ω–∏–π** (Bloom + Array buckets) | ~165 MB RSS | O(n) | O(n √ó m) | ~3-5—Å | ‚Äî |
| **Set\<String\> quick fix** (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) | ~100-130 MB RSS | O(1) | O(n √ó m) | ~3-5—Å | –ù–∏–∑—å–∫–∞ |
| **mmap + partitioned binary search** | typical lower RSS, worst-case –¥–æ mapped size | O(log n) –≤ partition | O(K √ó DL), K capped | <150ms cold / <50ms warm | –°–µ—Ä–µ–¥–Ω—è |
| **mmap + optional Bloom prefilter** | +~3.5 MB mapped | O(1)+O(log n) –¥–ª—è miss/hit path | O(K √ó DL), K capped | <150ms cold / <50ms warm | –°–µ—Ä–µ–¥–Ω—è |
| **mmap + MPHF (+verify)** | —ñ–Ω–¥–µ–∫—Å ~1-3 MB + blob | O(1) | O(K √ó DL), K capped | <150ms cold / <50ms warm | –°–µ—Ä–µ–¥–Ω—è-–í–∏—Å–æ–∫–∞ |
| **DAWG/DAFSA** | ~5-15 MB | O(L) | O(L √ó neighbors) | <50ms | –í–∏—Å–æ–∫–∞ |

---

## –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å

1. –§–∞–∑–∞ 0 (baseline –±–µ–Ω—á–º–∞—Ä–∫–∏)
2. –§–∞–∑–∞ 1 (–º–µ—Ä–¥–∂ + data quality checks)
3. –§–∞–∑–∞ 2 (mmap + partitioned binary search + protocol abstraction)
4. –§–∞–∑–∞ 5 (–±–µ–Ω—á–º–∞—Ä–∫–∏ –ø—ñ—Å–ª—è –§–∞–∑–∏ 2 –ø—Ä–æ—Ç–∏ baseline)
5. –§–∞–∑–∞ 2b (time-boxed MPHF spike, –æ–ø—Ü—ñ–π–Ω–æ)
6. –§–∞–∑–∞ 3 (trigram suggestions + optimized DL)
7. –§–∞–∑–∞ 4 (runtime cleanup –¥–ª—è low-end)
8. –§–∞–∑–∞ 6 (DAWG/DAFSA) —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å

---

## –§–∞–π–ª–∏ —â–æ –∑–º—ñ–Ω—è—Ç—å—Å—è

| –§–∞–π–ª | –§–∞–∑–∏ | –¢–∏–ø –∑–º—ñ–Ω |
|------|-------|----------|
| `scripts/merge_uk_dictionaries.py` | 1 | –ù–æ–≤–∏–π |
| `Sources/Dictionary/Resources/uk_UA.txt` | 1 | –ü–µ—Ä–µ–∑–∞–ø–∏—Å |
| `Sources/Dictionary/Resources/uk_UA_custom.txt` | 1 | –ù–æ–≤–∏–π |
| `plan/artifacts/uk_UA_merge_report.json` | 1 | –ù–æ–≤–∏–π |
| `scripts/compile_dictionary.swift` | 2 | –ù–æ–≤–∏–π |
| `Sources/Dictionary/Resources/uk_UA.bin` | 2 | –ù–æ–≤–∏–π (–∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å) |
| `Sources/Dictionary/DictionaryIndex.swift` | 2 | –ù–æ–≤–∏–π protocol |
| `Sources/Dictionary/MappedDictionary.swift` | 2 | –ù–æ–≤–∏–π |
| `Sources/Dictionary/DictionaryBinaryFormat.swift` | 2 | –ù–æ–≤–∏–π |
| `Sources/Dictionary/DictionaryLoader.swift` | 2, 4 | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| `Sources/Dictionary/WordValidator.swift` | 2, 3, 4 | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| `Sources/Dictionary/DamerauLevenshtein.swift` | 3 | –ù–æ–≤–∏–π internal-–º–æ–¥—É–ª—å (–Ω–µ public API) |
| `Sources/SwitchFixApp/AppDelegate.swift` | 4 | –û–Ω–æ–≤–ª–µ–Ω–Ω—è prewarm –ø–æ–ª—ñ—Ç–∏–∫–∏ |
| `Sources/Dictionary/TrigramIndex.swift` | 3 | –ù–æ–≤–∏–π |
| `Sources/TestRunner/DictionaryPerformanceTests.swift` | 5 | –ù–æ–≤–∏–π |
| `scripts/build-app.sh` | 2 | –û–Ω–æ–≤–ª–µ–Ω–Ω—è pipeline |
| `Package.swift` | 2 | –†–µ—Å—É—Ä—Å–∏ (`.bin`) |
| `plan/benchmarks/baseline_320k.md` | 0 | –ù–æ–≤–∏–π baseline –∑–≤—ñ—Ç |
| `plan/benchmarks/*.md` | 5 | –ù–æ–≤—ñ benchmark –∑–≤—ñ—Ç–∏ |

---

## –ö—Ä–∏—Ç–µ—Ä—ñ—ó –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

- [ ] –ú–µ—Ä–¥–∂ –ø—Ä–æ–π—à–æ–≤ data quality checks; –∑–≤—ñ—Ç (`plan/artifacts/uk_UA_merge_report.json`) –∑–±–µ—Ä–µ–∂–µ–Ω–æ
- [ ] `WordValidator` –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ `DictionaryIndex` abstraction, –±–µ–∑ –∑–Ω–∞–Ω–Ω—è storage details
- [ ] Exact lookup –±–µ–∑ linear scan –ø–æ `[String]`; –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏–π test coverage
- [ ] –ê–ª–≥–æ—Ä–∏—Ç–º suggestions: trigram candidate retrieval + bounded DL (–Ω–µ prefix-only brute force)
- [ ] DL —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∑ –ø–æ–≤–Ω–æ—ó 2D heap-–º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –∫–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫
- [ ] Overrides (`*_allow.txt`, `*_deny.txt`) –ø—Ä–∞—Ü—é—é—Ç—å —É –Ω–æ–≤—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ (compile-time merge –∞–±–æ runtime overlay)
- [ ] RAM —Ü—ñ–ª—ñ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω—ñ —è–∫ **typical** —ñ **worst-case**; worst-case –Ω–µ –º–∞—Å–∫—É—î—Ç—å—Å—è
- [ ] RSS (typical) –∑ –∞–∫—Ç–∏–≤–Ω–∏–º `uk_UA`: —Ü—ñ–ª—å <30 MB; stretch goal <20 MB
- [ ] Startup: <150ms cold, <50ms warm
- [ ] –Ñ benchmark harness —ñ baseline-—Ä–µ–ø–æ—Ä—Ç–∏ (–≤–∫–ª—é—á–Ω–æ –∑ `baseline_320k.md`)
- [ ] Runtime –ø–∞–∫–µ—Ç –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `uk_full.txt`; —É –∑–±—ñ—Ä–∫—É –≤—Ö–æ–¥–∏—Ç—å `.bin`
- [ ] –Ø–∫—â–æ MPHF spike –≤–∏–∫–æ–Ω–∞–Ω–æ, –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è "–±–µ—Ä–µ–º–æ/–Ω–µ –±–µ—Ä–µ–º–æ" –∑ kill criteria
- [ ] DAWG gate —Ñ–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π: –ø–µ—Ä–µ—Ö—ñ–¥, —è–∫—â–æ `RSS (typical) > 30 MB` –∞–±–æ `suggestion p99 > 40 ms` –ø—ñ—Å–ª—è –§–∞–∑–∏ 4
